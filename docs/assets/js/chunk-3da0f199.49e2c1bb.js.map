{"version":3,"sources":["webpack:///./src/views/geneal/camera1.png","webpack:///./src/views/geneal/index.vue?4b78","webpack:///./src/views/geneal/index.vue?93ce","webpack:///./src/views/geneal/index.vue","webpack:///src/views/geneal/index.vue","webpack:///./src/views/geneal/index.vue?62b9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","on","expandChange","model","value","callback","$$v","expandAll","expression","_v","simpModelChange","simpModel","drawerModelChange","drawerModel","setImage","directives","name","rawName","slot","handleCreate","handleDel","ref","rules","temp","dialogStatus","$set","_l","item","key","$event","createData","updateData","resetTemp","style","height","treeHeight","data","labelClassName","horizontal","collapsable","renderContent","onExpand","onNodeClick","handleClose","dialog","staticRenderFns","component","panzoom","type","timestamp","title","dataList","orgId","pusername","pid","userId","username","epithet","lineage","elderOrder","wifeLastname","childOrder","elderOrderOptions","dialogFormVisible","loading","formLabelWidth","getFenealList","toggleExpand","getTreeHeight","window","addEventListener","setTimeout","x","initZoom","methods","document","documentElement","clientHeight","_this","forever","list","arrDeepCopy","parseTree","treeList","console","log","params","$confirm","confirmButtonText","cancelButtonText","center","$message","error","getDicts","axios","status","done","clearTimeout","timer","h","getValue","e","expand","children","collapse","find","forEach","child","val","Array","isArray","targetList","crack","ids","map","index","length","stackIndexSize","indexof","indexOf","listData","splice","push","requestAnimationFrame","source","sourceCopy","capture","that","canvas2","createElement","_canvas","getElementsByClassName","w","parseInt","getComputedStyle","width","context","getContext","scale","canvas","saveAs","toDataURL","uri","filename","link","download","href","body","appendChild","click","removeChild","open","deptlevel","moveZoom","deptId","pos","departmentIsVisible","moveTo","zoomInstance","y","area","querySelector","smoothScroll","maxZoom","minZoom","isDrag","el","getElementById","pr","elb","getBoundingClientRect","prb","windim","relpos","top","left","isVissible"],"mappings":"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","file":"assets/js/chunk-3da0f199.49e2c1bb.js","sourcesContent":["export default __webpack_public_path__ + \"assets/img/camera1.63225e3b.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('el-container',[_c('el-header',[_c('div',{staticStyle:{\"margin\":\"15px\"}},[_c('el-checkbox',{attrs:{\"label\":\"1\"},on:{\"change\":_vm.expandChange},model:{value:(_vm.expandAll),callback:function ($$v) {_vm.expandAll=$$v},expression:\"expandAll\"}},[_vm._v(\"\\n          展开全部\\n        \")]),_vm._v(\" \"),_c('el-checkbox',{attrs:{\"label\":\"1\"},on:{\"change\":_vm.simpModelChange},model:{value:(_vm.simpModel),callback:function ($$v) {_vm.simpModel=$$v},expression:\"simpModel\"}},[_vm._v(\"\\n          简约模式\\n        \")]),_vm._v(\" \"),_c('el-checkbox',{attrs:{\"label\":\"1\"},on:{\"change\":_vm.drawerModelChange},model:{value:(_vm.drawerModel),callback:function ($$v) {_vm.drawerModel=$$v},expression:\"drawerModel\"}},[_vm._v(\"\\n          抽屉模式\\n        \")]),_vm._v(\" \"),_c('span',{staticClass:\"dept_camera\",attrs:{\"title\":\"截图\"},on:{\"click\":_vm.setImage}},[_vm._v(\"\\n          截图 \"),_c('img',{staticClass:\"logo\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"src\":require(\"./camera1.png\"),\"width\":\"30\"}})])],1)]),_vm._v(\" \"),_c('el-container',[_c('el-aside',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.drawerModel),expression:\"!drawerModel\"}],attrs:{\"width\":\"380px\"}},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"primary\",\"plain\":\"\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.handleCreate}},[_vm._v(\"\\n              新增\\n            \")]),_vm._v(\" \"),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"primary\",\"plain\":\"\",\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.handleDel}},[_vm._v(\"\\n              删除\\n            \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"text item\"},[_c('el-form',{ref:\"dataForm\",attrs:{\"rules\":_vm.rules,\"model\":_vm.temp,\"label-position\":\"left\",\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"操作\",\"prop\":\"dialogStatus\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.dialogStatus),callback:function ($$v) {_vm.dialogStatus=$$v},expression:\"dialogStatus\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"父亲姓名\",\"prop\":\"pusername\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.temp.pusername),callback:function ($$v) {_vm.$set(_vm.temp, \"pusername\", $$v)},expression:\"temp.pusername\"}})],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],attrs:{\"label\":\"pid\",\"prop\":\"pid\"}},[_c('el-input',{model:{value:(_vm.temp.pid),callback:function ($$v) {_vm.$set(_vm.temp, \"pid\", $$v)},expression:\"temp.pid\"}})],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],attrs:{\"label\":\"orgId\",\"prop\":\"orgId\"}},[_c('el-input',{model:{value:(_vm.temp.orgId),callback:function ($$v) {_vm.$set(_vm.temp, \"orgId\", $$v)},expression:\"temp.orgId\"}})],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],attrs:{\"label\":\"userId\",\"prop\":\"userId\"}},[_c('el-input',{model:{value:(_vm.temp.userId),callback:function ($$v) {_vm.$set(_vm.temp, \"userId\", $$v)},expression:\"temp.userId\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.temp.username),callback:function ($$v) {_vm.$set(_vm.temp, \"username\", $$v)},expression:\"temp.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"字号\",\"prop\":\"epithet\"}},[_c('el-input',{model:{value:(_vm.temp.epithet),callback:function ($$v) {_vm.$set(_vm.temp, \"epithet\", $$v)},expression:\"temp.epithet\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"世系\",\"prop\":\"lineage\"}},[_c('el-input',{model:{value:(_vm.temp.lineage),callback:function ($$v) {_vm.$set(_vm.temp, \"lineage\", $$v)},expression:\"temp.lineage\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"长次\"}},[_c('el-select',{staticClass:\"filter-item\",attrs:{\"placeholder\":\"请选择长次\"},model:{value:(_vm.temp.elderOrder),callback:function ($$v) {_vm.$set(_vm.temp, \"elderOrder\", $$v)},expression:\"temp.elderOrder\"}},_vm._l((_vm.elderOrderOptions),function(item){return _c('el-option',{key:item.key,attrs:{\"label\":item.value,\"value\":item.key}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"妻子姓氏\",\"prop\":\"wifeLastname\"}},[_c('el-input',{model:{value:(_vm.temp.wifeLastname),callback:function ($$v) {_vm.$set(_vm.temp, \"wifeLastname\", $$v)},expression:\"temp.wifeLastname\"}})],1)],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.dialogStatus === 'create' ? _vm.createData() : _vm.updateData()}}},[_vm._v(\"\\n              确认\\n            \")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.resetTemp}},[_vm._v(\"\\n              重置\\n            \")])],1)])],1),_vm._v(\" \"),_c('el-main',{staticStyle:{\"border\":\"1px solid #eee\"},style:({ height:_vm.treeHeight+'px'})},[_c('div',{staticClass:\"container\"},[_c('div',{attrs:{\"id\":\"orgTree\"}},[_c('div',{staticClass:\"text-center orgTree\"},[_c('vue2-org-tree',{attrs:{\"data\":_vm.data,\"labelClassName\":_vm.labelClassName,\"horizontal\":_vm.horizontal,\"collapsable\":_vm.collapsable,\"expandAll\":_vm.expandAll,\"render-content\":_vm.renderContent,\"label-class-name\":_vm.labelClassName},on:{\"on-expand\":_vm.onExpand,\"on-node-click\":_vm.onNodeClick}})],1)])])])],1)],1),_vm._v(\" \"),_c('el-drawer',{ref:\"drawer\",attrs:{\"title\":\"title\",\"before-close\":_vm.handleClose,\"visible\":_vm.dialog,\"with-header\":false,\"direction\":\"rtl\",\"custom-class\":\"demo-drawer\"},on:{\"update:visible\":function($event){_vm.dialog=$event}}},[_c('div',{staticClass:\"demo-drawer__content\"},[_c('el-form',{attrs:{\"model\":_vm.temp}},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"primary\",\"plain\":\"\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.handleCreate}},[_vm._v(\"\\n              新增\\n            \")]),_vm._v(\" \"),_c('el-button',{staticClass:\"filter-item\",attrs:{\"type\":\"primary\",\"plain\":\"\",\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.handleDel}},[_vm._v(\"\\n              删除\\n            \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"text item\"},[_c('el-form',{ref:\"dataForm\",staticStyle:{\"width\":\"345px\"},attrs:{\"rules\":_vm.rules,\"model\":_vm.temp,\"label-position\":\"left\",\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"操作\",\"prop\":\"dialogStatus\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.dialogStatus),callback:function ($$v) {_vm.dialogStatus=$$v},expression:\"dialogStatus\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"父亲姓名\",\"prop\":\"pusername\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.temp.pusername),callback:function ($$v) {_vm.$set(_vm.temp, \"pusername\", $$v)},expression:\"temp.pusername\"}})],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],attrs:{\"label\":\"pid\",\"prop\":\"pid\"}},[_c('el-input',{model:{value:(_vm.temp.pid),callback:function ($$v) {_vm.$set(_vm.temp, \"pid\", $$v)},expression:\"temp.pid\"}})],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],attrs:{\"label\":\"orgId\",\"prop\":\"orgId\"}},[_c('el-input',{model:{value:(_vm.temp.orgId),callback:function ($$v) {_vm.$set(_vm.temp, \"orgId\", $$v)},expression:\"temp.orgId\"}})],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],attrs:{\"label\":\"userId\",\"prop\":\"userId\"}},[_c('el-input',{model:{value:(_vm.temp.userId),callback:function ($$v) {_vm.$set(_vm.temp, \"userId\", $$v)},expression:\"temp.userId\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.temp.username),callback:function ($$v) {_vm.$set(_vm.temp, \"username\", $$v)},expression:\"temp.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"字号\",\"prop\":\"epithet\"}},[_c('el-input',{model:{value:(_vm.temp.epithet),callback:function ($$v) {_vm.$set(_vm.temp, \"epithet\", $$v)},expression:\"temp.epithet\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"世系\",\"prop\":\"lineage\"}},[_c('el-input',{model:{value:(_vm.temp.lineage),callback:function ($$v) {_vm.$set(_vm.temp, \"lineage\", $$v)},expression:\"temp.lineage\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"长次\"}},[_c('el-select',{staticClass:\"filter-item\",attrs:{\"placeholder\":\"请选择长次\"},model:{value:(_vm.temp.elderOrder),callback:function ($$v) {_vm.$set(_vm.temp, \"elderOrder\", $$v)},expression:\"temp.elderOrder\"}},_vm._l((_vm.elderOrderOptions),function(item){return _c('el-option',{key:item.key,attrs:{\"label\":item.value,\"value\":item.key}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"妻子姓氏\",\"prop\":\"wifeLastname\"}},[_c('el-input',{model:{value:(_vm.temp.wifeLastname),callback:function ($$v) {_vm.$set(_vm.temp, \"wifeLastname\", $$v)},expression:\"temp.wifeLastname\"}})],1)],1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.dialogStatus === 'create' ? _vm.createData() : _vm.updateData()}}},[_vm._v(\"\\n              确认\\n            \")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.resetTemp}},[_vm._v(\"\\n              重置\\n            \")])],1)])],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=bca33cc6&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=bca33cc6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bca33cc6\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"app-container\">\r\n    <el-container>\r\n      <el-header>\r\n        <div style=\"margin: 15px;\">\r\n          <el-checkbox v-model=\"expandAll\" label=\"1\" @change=\"expandChange\">\r\n            展开全部\r\n          </el-checkbox>\r\n          <el-checkbox v-model=\"simpModel\" label=\"1\" @change=\"simpModelChange\">\r\n            简约模式\r\n          </el-checkbox>\r\n          <el-checkbox v-model=\"drawerModel\" label=\"1\" @change=\"drawerModelChange\">\r\n            抽屉模式\r\n          </el-checkbox>\r\n          <span @click=\"setImage\" class=\"dept_camera\" title=\"截图\">\r\n            截图 <img src='./camera1.png' width='30' class='logo' style='cursor: pointer' />\r\n          </span>\r\n        </div>\r\n      </el-header>\r\n      <el-container>\r\n        <el-aside width=\"380px\" v-show=\"!drawerModel\">\r\n          <el-card class=\"box-card\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <el-button class=\"filter-item\" style=\"\" type=\"primary\" plain icon=\"el-icon-edit\" @click=\"handleCreate\">\r\n                新增\r\n              </el-button>\r\n              <el-button class=\"filter-item\" style=\"\" type=\"primary\" plain icon=\"el-icon-delete\" @click=\"handleDel\">\r\n                删除\r\n              </el-button>\r\n            </div>\r\n            <div class=\"text item\">\r\n              <el-form ref=\"dataForm\" :rules=\"rules\" :model=\"temp\" label-position=\"left\" label-width=\"70px\">\r\n                <el-form-item label=\"操作\" prop=\"dialogStatus\">\r\n                  <el-input v-model=\"dialogStatus\" disabled />\r\n                </el-form-item>\r\n                <el-form-item label=\"父亲姓名\" prop=\"pusername\">\r\n                  <el-input v-model=\"temp.pusername\" disabled />\r\n                </el-form-item>\r\n                <el-form-item label=\"pid\" prop=\"pid\" v-show=\"false\">\r\n                  <el-input v-model=\"temp.pid\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"orgId\" prop=\"orgId\" v-show=\"false\">\r\n                  <el-input v-model=\"temp.orgId\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"userId\" prop=\"userId\" v-show=\"false\">\r\n                  <el-input v-model=\"temp.userId\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"姓名\" prop=\"username\">\r\n                  <el-input v-model=\"temp.username\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"字号\" prop=\"epithet\">\r\n                  <el-input v-model=\"temp.epithet\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"世系\" prop=\"lineage\">\r\n                  <el-input v-model=\"temp.lineage\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"长次\">\r\n                  <el-select v-model=\"temp.elderOrder\" class=\"filter-item\" placeholder=\"请选择长次\">\r\n                    <el-option v-for=\"item in elderOrderOptions\" :key=\"item.key\" :label=\"item.value\"\r\n                      :value=\"item.key\" />\r\n                  </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"妻子姓氏\" prop=\"wifeLastname\">\r\n                  <el-input v-model=\"temp.wifeLastname\" />\r\n                </el-form-item>\r\n              </el-form>\r\n              <el-button type=\"primary\" plain @click=\"dialogStatus === 'create' ? createData() : updateData()\">\r\n                确认\r\n              </el-button>\r\n              <el-button @click=\"resetTemp\">\r\n                重置\r\n              </el-button>\r\n            </div>\r\n          </el-card>\r\n        </el-aside>\r\n\r\n        <el-main style=\" border: 1px solid #eee\" :style=\"{ height:treeHeight+'px'}\">\r\n          <div class=\"container\">\r\n            <div id=\"orgTree\">\r\n              <div class=\"text-center orgTree\">\r\n                <vue2-org-tree :data=\"data\" :labelClassName=\"labelClassName\" :horizontal=\"horizontal\"\r\n                  :collapsable=\"collapsable\" :expandAll=\"expandAll\" :render-content=\"renderContent\"\r\n                  :label-class-name=\"labelClassName\" @on-expand=\"onExpand\" @on-node-click=\"onNodeClick\"></vue2-org-tree>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </el-main>\r\n      </el-container>\r\n    </el-container>\r\n    <el-drawer title=\"title\" :before-close=\"handleClose\" :visible.sync=\"dialog\" :with-header=\"false\" direction=\"rtl\"\r\n      custom-class=\"demo-drawer\" ref=\"drawer\">\r\n      <div class=\"demo-drawer__content\">\r\n        <el-form :model=\"temp\">\r\n          <el-card class=\"box-card\">\r\n            <div slot=\"header\" class=\"clearfix\">\r\n              <el-button class=\"filter-item\" style=\"\" type=\"primary\" plain icon=\"el-icon-edit\" @click=\"handleCreate\">\r\n                新增\r\n              </el-button>\r\n\r\n              <el-button class=\"filter-item\" style=\"\" type=\"primary\" plain icon=\"el-icon-delete\" @click=\"handleDel\">\r\n                删除\r\n              </el-button>\r\n            </div>\r\n            <div class=\"text item\">\r\n              <el-form ref=\"dataForm\" :rules=\"rules\" :model=\"temp\" label-position=\"left\" label-width=\"70px\"\r\n                style=\"width: 345px;\">\r\n                <el-form-item label=\"操作\" prop=\"dialogStatus\">\r\n                  <el-input v-model=\"dialogStatus\" disabled />\r\n                </el-form-item>\r\n                <el-form-item label=\"父亲姓名\" prop=\"pusername\">\r\n                  <el-input v-model=\"temp.pusername\" disabled />\r\n                </el-form-item>\r\n                <el-form-item label=\"pid\" prop=\"pid\" v-show=\"false\">\r\n                  <el-input v-model=\"temp.pid\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"orgId\" prop=\"orgId\" v-show=\"false\">\r\n                  <el-input v-model=\"temp.orgId\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"userId\" prop=\"userId\" v-show=\"false\">\r\n                  <el-input v-model=\"temp.userId\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"姓名\" prop=\"username\">\r\n                  <el-input v-model=\"temp.username\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"字号\" prop=\"epithet\">\r\n                  <el-input v-model=\"temp.epithet\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"世系\" prop=\"lineage\">\r\n                  <el-input v-model=\"temp.lineage\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"长次\">\r\n                  <el-select v-model=\"temp.elderOrder\" class=\"filter-item\" placeholder=\"请选择长次\">\r\n                    <el-option v-for=\"item in elderOrderOptions\" :key=\"item.key\" :label=\"item.value\"\r\n                      :value=\"item.key\" />\r\n                  </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"妻子姓氏\" prop=\"wifeLastname\">\r\n                  <el-input v-model=\"temp.wifeLastname\" />\r\n                </el-form-item>\r\n              </el-form>\r\n              <el-button type=\"primary\" plain @click=\"dialogStatus === 'create' ? createData() : updateData()\">\r\n                确认\r\n              </el-button>\r\n              <el-button @click=\"resetTemp\">\r\n                重置\r\n              </el-button>\r\n            </div>\r\n          </el-card>\r\n        </el-form>\r\n      </div>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport html2canvas from \"html2canvas\";\r\nvar panzoom = require(\"panzoom\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      dialogStatus: \"edit\",\r\n      rules: {\r\n        type: [\r\n          { required: true, message: \"type is required\", trigger: \"change\" }\r\n        ],\r\n        timestamp: [\r\n          {\r\n            type: \"date\",\r\n            required: true,\r\n            message: \"timestamp is required\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        title: [\r\n          { required: true, message: \"title is required\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n      dataList: [],\r\n      temp: {\r\n        orgId: \"\",\r\n        pusername: \"\",\r\n        pid: \"\",\r\n        userId: \"\",\r\n        username: \"\",\r\n        epithet: \"\",\r\n        lineage: \"\",\r\n        elderOrder: \"\",\r\n        wifeLastname: \"\",\r\n        childOrder: \"\"\r\n      },\r\n      elderOrderOptions: [\r\n        { key: 1, value: \"长子\" },\r\n        { key: 2, value: \"次子\" },\r\n        { key: 3, value: \"三子\" },\r\n        { key: 4, value: \"四子\" },\r\n        { key: 5, value: \"幼子\" }\r\n      ],\r\n      dialogFormVisible: false,\r\n      data: {},\r\n      horizontal: false,\r\n      collapsable: true,\r\n      expandAll: true,\r\n      simpModel: true,\r\n      drawerModel: false,\r\n      labelClassName: \"bg-white\",\r\n      dialog: false,\r\n      loading: false,\r\n      formLabelWidth: \"80px\",\r\n      treeHeight: 600\r\n    };\r\n  },\r\n  created() {\r\n    this.getFenealList();\r\n    this.toggleExpand(this.data, this.expandAll);\r\n  },\r\n  mounted() {\r\n    this.getTreeHeight();\r\n    // 增加监听事件，窗口变化时得到高度。\r\n    window.addEventListener(\"resize\", this.getTreeHeight, false);\r\n\r\n    setTimeout(x => {\r\n      this.initZoom();\r\n    }, 500);\r\n  },\r\n  methods: {\r\n    getTreeHeight() {\r\n      // 获取浏览器高度并计算得到表格所用高度。\r\n      this.treeHeight = document.documentElement.clientHeight - 60;\r\n    },\r\n    getFenealList() {\r\n      let _this = this;\r\n      let forever = [\r\n        {\r\n          lineage: \"一世\",\r\n          childOrder: \"1\",\r\n          epithet: \"张1一\",\r\n          pid: \"\",\r\n          userId: \"1\",\r\n          orgId: \"1\",\r\n          elderOrder: \"长子\",\r\n          username: \"张一一\",\r\n          wifeLastname: \"李氏\"\r\n        },\r\n        {\r\n          lineage: \"二世\",\r\n          childOrder: \"2\",\r\n          epithet: \"李2一\",\r\n          pid: \"1\",\r\n          userId: \"2\",\r\n          orgId: \"2\",\r\n          elderOrder: \"次子\",\r\n          username: \"李二6\",\r\n          wifeLastname: \"张氏\"\r\n        },\r\n        {\r\n          lineage: \"3\",\r\n          childOrder: \"1\",\r\n          epithet: \"3\",\r\n          pid: \"2\",\r\n          userId: \"afb74338beb340b8886d8438aec9e73b\",\r\n          orgId: \"4accc246e1ed421884c5fe17bccf157b\",\r\n          elderOrder: \"长子\",\r\n          username: \"3\",\r\n          wifeLastname: \"4\"\r\n        },\r\n        {\r\n          lineage: \"三世\",\r\n          childOrder: \"2\",\r\n          epithet: \"张3二\",\r\n          pid: \"2\",\r\n          userId: \"4\",\r\n          orgId: \"4\",\r\n          elderOrder: \"次子\",\r\n          username: \"李三二\",\r\n          wifeLastname: \"韩氏\"\r\n        },\r\n        {\r\n          lineage: \"三世\",\r\n          childOrder: \"5\",\r\n          epithet: \"张3一\",\r\n          pid: \"2\",\r\n          userId: \"5\",\r\n          orgId: \"5\",\r\n          elderOrder: \"幼子\",\r\n          username: \"张三一\",\r\n          wifeLastname: \"牛氏\"\r\n        },\r\n        {\r\n          lineage: \"一世\",\r\n          childOrder: \"1\",\r\n          epithet: \"张1一\",\r\n          pid: \"3\",\r\n          userId: \"1\",\r\n          orgId: \"6\",\r\n          elderOrder: \"长子\",\r\n          username: \"张一一\",\r\n          wifeLastname: \"李氏\"\r\n        },\r\n        {\r\n          lineage: \"二世\",\r\n          childOrder: \"2\",\r\n          epithet: \"李2一\",\r\n          pid: \"4\",\r\n          userId: \"2\",\r\n          orgId: \"7\",\r\n          elderOrder: \"次子\",\r\n          username: \"李二6\",\r\n          wifeLastname: \"张氏\"\r\n        },\r\n        {\r\n          lineage: \"三世\",\r\n          childOrder: \"2\",\r\n          epithet: \"张3二\",\r\n          pid: \"6\",\r\n          userId: \"4\",\r\n          orgId: \"9\",\r\n          elderOrder: \"次子\",\r\n          username: \"李三二\",\r\n          wifeLastname: \"韩氏\"\r\n        },\r\n        {\r\n          lineage: \"7\",\r\n          childOrder: \"1\",\r\n          epithet: \"7\",\r\n          pid: \"846d38589c3c41bb8d327253cadd1e45\",\r\n          userId: \"d8c827305bc843abb9df213d59483783\",\r\n          orgId: \"1979f0c500d84d5a8a5fa9102502a539\",\r\n          elderOrder: \"长子\",\r\n          username: \"7\",\r\n          wifeLastname: \"7\"\r\n        },\r\n        {\r\n          lineage: \"1\",\r\n          childOrder: \"1\",\r\n          epithet: \"1\",\r\n          pid: \"d150e4c7b59f41e182d182b1c74ab5c8\",\r\n          userId: \"923351a02e7d426fb7ed480ea2ffeeec\",\r\n          orgId: \"180753347a9c430f943958f3092b4317\",\r\n          elderOrder: \"长子\",\r\n          username: \"1\",\r\n          wifeLastname: \"1\"\r\n        },\r\n        {\r\n          lineage: \"7\",\r\n          childOrder: \"1\",\r\n          epithet: \"苏7\",\r\n          pid: \"d150e4c7b59f41e182d182b1c74ab5c8\",\r\n          userId: \"e9a32a91e106467ead77e39c7119acf5\",\r\n          orgId: \"59ccfc567192452dad0e9572047d7afc\",\r\n          elderOrder: \"长子\",\r\n          username: \"苏7\",\r\n          wifeLastname: \"7\"\r\n        },\r\n        {\r\n          lineage: \"7\",\r\n          childOrder: \"1\",\r\n          epithet: \"su7\",\r\n          pid: \"d150e4c7b59f41e182d182b1c74ab5c8\",\r\n          userId: \"d58afc39720549f29ff5501edd5e5231\",\r\n          orgId: \"5d7a8faef7304bffa20fd4b25bf072c4\",\r\n          elderOrder: \"长子\",\r\n          username: \"su7\",\r\n          wifeLastname: \"7\"\r\n        },\r\n        {\r\n          lineage: \"7\",\r\n          childOrder: \"1\",\r\n          epithet: \"苏7\",\r\n          pid: \"d150e4c7b59f41e182d182b1c74ab5c8\",\r\n          userId: \"bbc466e0f578427588f886dcfea4b81e\",\r\n          orgId: \"90dec6f2e9b440efb6d68cfae4345551\",\r\n          elderOrder: \"长子\",\r\n          username: \"苏6\",\r\n          wifeLastname: \"苏\"\r\n        }\r\n      ];\r\n      let list = forever;\r\n      _this.dataList = _this.arrDeepCopy(list);\r\n      _this.parseTree(list, treeList => {\r\n        _this.data = treeList[0];\r\n        console.log(_this.data);\r\n        this.toggleExpand(this.data, this.expandAll);\r\n      });\r\n\r\n      //   _this.axios\r\n      //     .post(\"/api/formeal/genealogy/getFenealLists\", params)\r\n      //     .then(response => {\r\n      //       let list = response.data.resData;\r\n      //       _this.dataList = _this.arrDeepCopy(list);\r\n      //       _this.parseTree(list, treeList => {\r\n      //         _this.data = treeList[0];\r\n      //         console.log(_this.data);\r\n      //         this.toggleExpand(this.data, this.expandAll);\r\n      //       });\r\n      //     });\r\n    },\r\n    handleDel() {\r\n      let _this = this;\r\n      let params = this.temp;\r\n\r\n      if (!params.pid) {\r\n        this.$message.error(\"请选择节点删除\");\r\n        return;\r\n      }\r\n      this.$confirm(\"确定删除该数据及其子节点\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n        center: true\r\n      })\r\n        .then(() => {\r\n          _this.axios\r\n            .post(_this.$store.state.apiUrl + \"deleteData\", params)\r\n            .then(response => {\r\n              if (response.data.code == 0) {\r\n                this.$message({\r\n                  message: \"删除成功\",\r\n                  type: \"success\",\r\n                  center: true\r\n                });\r\n                this.getFenealList();\r\n              } else {\r\n                this.$message({\r\n                  message: \"删除失败\",\r\n                  type: \"warning\",\r\n                  center: true\r\n                });\r\n              }\r\n            });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\"\r\n          });\r\n        });\r\n    },\r\n    handleCreate() {\r\n      this.dialogStatus = \"create\";\r\n      // let pusername = this.temp.pusername;\r\n      let username = this.temp.username;\r\n      let orgId = this.temp.orgId;\r\n      let pid = this.temp.pid;\r\n      let userId = this.temp.userId;\r\n      if (!pid) {\r\n        this.$message.error(\"请选择节点新增\");\r\n        return;\r\n      }\r\n      this.temp = {\r\n        pusername: \"\",\r\n        pid: \"\",\r\n        username: \"\",\r\n        epithet: \"\",\r\n        lineage: \"\",\r\n        elderOrder: \"\",\r\n        wifeLastname: \"\"\r\n      };\r\n      this.temp.pusername = username;\r\n      this.temp.orgId = orgId;\r\n      this.temp.pid = pid;\r\n      this.temp.userId = userId;\r\n    },\r\n    createData() {\r\n      let _this = this;\r\n      let params = this.temp;\r\n      params.childOrder = _this.getDicts(params.elderOrder);\r\n      _this.axios\r\n        .post(_this.$store.state.apiUrl + \"createData\", params)\r\n        .then(response => {\r\n          if (response.data.code == 0) {\r\n            this.$message({\r\n              message: \"修改成功\",\r\n              type: \"success\",\r\n              center: true\r\n            });\r\n            _this.getFenealList();\r\n          } else {\r\n            this.$message({\r\n              message: \"修改失败\",\r\n              type: \"warning\",\r\n              center: true\r\n            });\r\n          }\r\n          this.dialog = false;\r\n        });\r\n    },\r\n    updateData() {\r\n      let _this = this;\r\n      let params = this.temp;\r\n      params.childOrder = _this.getDicts(params.elderOrder);\r\n      _this.axios\r\n        .post(_this.$store.state.apiUrl + \"updateData\", params)\r\n        .then(response => {\r\n          if (response.data.code == 0) {\r\n            this.$message({\r\n              message: \"修改成功\",\r\n              type: \"success\",\r\n              center: true\r\n            });\r\n            _this.getFenealList();\r\n          } else {\r\n            this.$message({\r\n              message: \"修改失败\",\r\n              type: \"warning\",\r\n              center: true\r\n            });\r\n          }\r\n          this.dialog = false;\r\n        });\r\n    },\r\n    handleEdit() {\r\n      this.dialogStatus = \"edit\";\r\n    },\r\n    resetTemp() {\r\n      this.temp = {\r\n        orgId: \"\",\r\n        pusername: \"\",\r\n        pid: \"\",\r\n        userId: \"\",\r\n        username: \"\",\r\n        epithet: \"\",\r\n        lineage: \"\",\r\n        elderOrder: \"\",\r\n        wifeLastname: \"\"\r\n      };\r\n    },\r\n    // eslint-disable-next-line no-unused-vars\r\n    expandChange(data) {\r\n      this.toggleExpand(this.data, this.expandAll);\r\n    },\r\n    simpModelChange(status) {\r\n      this.simpModel = status;\r\n    },\r\n    drawerModelChange(status) {\r\n      this.drawerModel = status;\r\n    },\r\n    handleClose(done) {\r\n      done();\r\n      // this.$confirm(\"确定要提交表单吗？\")\r\n      //   // eslint-disable-next-line no-unused-vars\r\n      //   .then(_ => {\r\n      //     this.loading = true;\r\n      //     this.timer = setTimeout(() => {\r\n      //       done();\r\n      //       // 动画关闭需要一定的时间\r\n      //       setTimeout(() => {\r\n      //         this.loading = false;\r\n      //       }, 400);\r\n      //     }, 2000);\r\n      //   })\r\n      //   // eslint-disable-next-line no-unused-vars\r\n      //   .catch(_ => {});\r\n    },\r\n    cancelForm() {\r\n      this.loading = false;\r\n      this.dialog = false;\r\n      clearTimeout(this.timer);\r\n    },\r\n    renderContent(h, data) {\r\n      data.elderOrder = this.getValue(data.elderOrder);\r\n      if (!this.simpModel) {\r\n        return data.username;\r\n      } else {\r\n        // 展示\r\n        return (\r\n          <div style=\"height: 100px;width:135px\">\r\n            <div style=\"\">\r\n              <span style=\"border-right:1px solid #ccc;padding: 7px;\">\r\n                {data.elderOrder}\r\n              </span>\r\n              <span style=\"padding: 7px;\">{data.lineage}</span>\r\n            </div>\r\n            <div style=\"border:1px solid #ccc;margin-top: 7px;\">\r\n              <div style=\"float: left;padding: 7px 3px;border-right:1px solid #ccc;width: 78px;\">\r\n                <div style=\"border-bottom:1px solid #ccc;padding: 7px 3px;\">\r\n                  {data.epithet}\r\n                </div>\r\n                <div style=\"padding: 7px 3px;\">{data.username}</div>\r\n              </div>\r\n              <div style=\"float: right;width: 48px;\">\r\n                <span style=\"transform: translateY(120%);    float: left;margin: 9px 0px;\">\r\n                  {data.wifeLastname}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    },\r\n    onExpand(e, data) {\r\n      if (\"expand\" in data) {\r\n        data.expand = !data.expand;\r\n        if (!data.expand && data.children) {\r\n          this.collapse(data.children);\r\n        }\r\n      } else {\r\n        this.$set(data, \"expand\", true);\r\n      }\r\n    },\r\n    onNodeClick(e, data) {\r\n      this.dialogStatus = \"edit\";\r\n      if (this.drawerModel) {\r\n        this.dialog = true;\r\n      }\r\n\r\n      let _this = this;\r\n      _this.temp = data;\r\n\r\n      _this.temp.pusername = _this.dataList.find(\r\n        item => item.userId === data.pid\r\n      )\r\n        ? _this.dataList.find(item => item.userId === data.pid).username\r\n        : \"\";\r\n    },\r\n    collapse(list) {\r\n      var _this = this;\r\n      list.forEach(function(child) {\r\n        if (child.expand) {\r\n          child.expand = false;\r\n        }\r\n\r\n        child.children && _this.collapse(child.children);\r\n      });\r\n    },\r\n    toggleExpand(data, val) {\r\n      var _this = this;\r\n      if (Array.isArray(data)) {\r\n        data.forEach(function(item) {\r\n          _this.$set(item, \"expand\", val);\r\n          if (item.children) {\r\n            _this.toggleExpand(item.children, val);\r\n          }\r\n        });\r\n      } else {\r\n        this.$set(data, \"expand\", val);\r\n        if (data.children) {\r\n          _this.toggleExpand(data.children, val);\r\n        }\r\n      }\r\n    },\r\n    parseTree(list, callback, targetList) {\r\n      let _this = this;\r\n      // 如果节点有断裂, 提前结束递归, 以防止无限递归发生\r\n      let crack = false;\r\n      if (targetList) {\r\n        // 非根节点\r\n        let ids = targetList.map(item => item.orgId);\r\n        let index = 0;\r\n        while (index < list.length) {\r\n          _this.parseTree.stackIndexSize++;\r\n          // eslint-disable-next-line no-unused-vars\r\n          const { pid, orgId } = list[index];\r\n          // 寻找匹配关系\r\n          const indexof = ids.indexOf(pid);\r\n          if (indexof !== -1) {\r\n            crack = true;\r\n            const listData = list.splice(index, 1)[0];\r\n            const children = [];\r\n            targetList[indexof].children.push({ ...listData, children });\r\n          } else {\r\n            index++;\r\n          }\r\n        }\r\n\r\n        // 数据分批处理\r\n        if (\r\n          _this.parseTree.stackIndexSize <\r\n          (_this.parseTree.maxStackSize || 50000)\r\n        ) {\r\n          targetList.forEach(({ children }) =>\r\n            _this.parseTree(list, callback, children)\r\n          );\r\n        } else {\r\n          requestAnimationFrame(() => {\r\n            targetList.forEach(({ children }) =>\r\n              _this.parseTree(list, callback, children)\r\n            );\r\n          });\r\n        }\r\n      } else {\r\n        // 根节点\r\n        // 根节点不需要匹配关系, 无pid即可\r\n        // 根节点与非根节点区分, 以达到性能最优\r\n        targetList = [];\r\n\r\n        let index = 0;\r\n        while (index < list.length) {\r\n          // eslint-disable-next-line no-unused-vars\r\n          const { pid, orgId } = list[index];\r\n          if (!pid) {\r\n            const listData = list.splice(index, 1)[0];\r\n            const children = [];\r\n            crack = true;\r\n            targetList.push({ ...listData, children });\r\n          } else {\r\n            index++;\r\n          }\r\n        }\r\n\r\n        _this.parseTree.stackIndexSize = 0;\r\n        _this.parseTree.targetList = targetList;\r\n        _this.parseTree.callback = callback;\r\n        _this.parseTree(list, callback, targetList);\r\n      }\r\n\r\n      if (!list.length || crack) {\r\n        _this.parseTree.callback &&\r\n          _this.parseTree.callback(_this.parseTree.targetList);\r\n        _this.parseTree.callback = null;\r\n      }\r\n    },\r\n    arrDeepCopy(source) {\r\n      var sourceCopy = [];\r\n      for (var item in source)\r\n        sourceCopy[item] =\r\n          typeof source[item] === \"object\"\r\n            ? this.arrDeepCopy(source[item])\r\n            : source[item];\r\n\r\n      return sourceCopy;\r\n    },\r\n    getDicts(val) {\r\n      // let elderOrder = this.getDicts(data.elderOrder);\r\n      for (var item of this.elderOrderOptions) {\r\n        // item代表数组里面的元素\r\n        if (item.value == val) {\r\n          return item.key;\r\n        }\r\n      }\r\n      return val;\r\n    },\r\n    getValue(key) {\r\n      // let elderOrder = this.getDicts(data.elderOrder);\r\n      for (var item of this.elderOrderOptions) {\r\n        // item代表数组里面的元素\r\n        if (item.key == key) {\r\n          return item.value;\r\n        }\r\n      }\r\n      return key;\r\n    }, //   截取图片\r\n    setImage() {\r\n      this.initZoom();\r\n      setTimeout(x => {\r\n        this.capture();\r\n      }, 500);\r\n    },\r\n    capture() {\r\n      let that = this;\r\n      var canvas2 = document.createElement(\"canvas\");\r\n      let _canvas = document.getElementsByClassName(\"org-tree-container\");\r\n      _canvas = _canvas[0];\r\n      var w = parseInt(window.getComputedStyle(_canvas).width);\r\n      var h = parseInt(window.getComputedStyle(_canvas).height);\r\n      // 将canvas画布放大若干倍，然后盛放在较小的容器内，就显得不模糊了\r\n      canvas2.width = w * 2.5;\r\n      canvas2.height = h * 2.5;\r\n      canvas2.style.width = w + \"px\";\r\n      canvas2.style.height = h + \"px\";\r\n      // 可以按照自己的需求，对context的参数修改,translate指的是偏移量\r\n      var context = canvas2.getContext(\"2d\");\r\n      context.scale(2, 2);\r\n      html2canvas(document.getElementById(\"orgTree\"), {\r\n        canvas: canvas2\r\n      }).then(function(canvas) {\r\n        that.saveAs(canvas.toDataURL(\"image/pdf\"), \"orgchart.png\");\r\n      });\r\n    },\r\n    saveAs(uri, filename) {\r\n      var link = document.createElement(\"a\");\r\n      if (typeof link.download === \"string\") {\r\n        link.href = uri;\r\n        link.download = filename;\r\n        // Firefox requires the link to be in the body\r\n        document.body.appendChild(link);\r\n        // simulate click\r\n        link.click();\r\n        // remove the link when done\r\n        document.body.removeChild(link);\r\n      } else {\r\n        window.open(uri);\r\n      }\r\n    },\r\n    resetOrg(data) {\r\n      // 如果子节点很多，根节点折叠时效果很差，\r\n      if (data.deptlevel === \"1\") this.moveZoom();\r\n    },\r\n    // 拖动页面\r\n    moveZoom(deptId) {\r\n      var pos;\r\n      if (deptId) {\r\n        pos = this.departmentIsVisible(deptId).moveTo;\r\n      } else {\r\n        pos = { x: 0, y: 0 };\r\n      }\r\n      this.zoomInstance.moveTo(pos.x, pos.y);\r\n    },\r\n    // 初始化zoom\r\n    initZoom(deptId) {\r\n      var area = document.querySelector(\"#orgTree\");\r\n      //   if (this.zoomInstance) this.zoomInstance.dispose()\r\n      this.zoomInstance = panzoom(area, {\r\n        smoothScroll: false,\r\n        maxZoom: 1,\r\n        minZoom: 0.3\r\n      });\r\n      var pos;\r\n      if (deptId) {\r\n        pos = this.departmentIsVisible(deptId).moveTo;\r\n      } else {\r\n        pos = { x: 0, y: 0 };\r\n      }\r\n      this.zoomInstance.moveTo(pos.x, pos.y);\r\n      let _this = this;\r\n      // 移动或缩放结束\r\n      this.zoomInstance.on(\"panend\", function(e) {\r\n        _this.isDrag = true;\r\n        setTimeout(x => {\r\n          _this.isDrag = false;\r\n        }, 200);\r\n      });\r\n    },\r\n    departmentIsVisible(deptId) {\r\n      var el = document.getElementById(\"ID_\" + deptId);\r\n      var pr = document.getElementById(\"orgTree\");\r\n      var elb = el.getBoundingClientRect();\r\n      var prb = pr.getBoundingClientRect();\r\n      var windim = { w: window.innerWidth, h: window.innerHeight - 100 };\r\n      var relpos = {\r\n        y: prb.top - elb.top + 0.5 * windim.h,\r\n        x: prb.left - elb.left + 0.5 * windim.w - 300\r\n      };\r\n      relpos.y = relpos.y > 0 ? 0 : relpos.y;\r\n\r\n      var isVissible = !(\r\n        elb.bottom < 0 ||\r\n        elb.right < 300 ||\r\n        elb.left > window.innerWidth ||\r\n        elb.top > window.innerHeight\r\n      );\r\n\r\n      return { isVissible: isVissible, moveTo: relpos };\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  overflow: auto;\r\n  overflow-x: hidden;\r\n  overflow-y: hidden;\r\n}\r\n.line {\r\n  text-align: center;\r\n}\r\n.orgTree {\r\n  /* height: calc(100%); */\r\n}\r\n</style>\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=bca33cc6&scoped=true&lang=css&\""],"sourceRoot":""}