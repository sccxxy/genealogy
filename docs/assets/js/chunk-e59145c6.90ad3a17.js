(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e59145c6"],{"0073":function(t,e,n){"use strict";n.r(e);var i=n("0688"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"0688":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("e2a8"),a=r(i);function r(t){return t&&t.__esModule?t:{default:t}}n("e362"),e.default={name:"horizontal",data(){return{data:[{name:"Henry",attributes:{title:"研发部leader",photo:"http://img.hb.aicdn.com/0788a51b27ba8db84f61d95249725475d5396f20119ac-HVge7P_fw658"},children:[{name:"JACK",attributes:{title:"研发总监",photo:"http://img.hb.aicdn.com/0788a51b27ba8db84f61d95249725475d5396f20119ac-HVge7P_fw658"},children:[{name:"Jane",attributes:{title:"web开发",photo:"http://img.hb.aicdn.com/0e7c6aee0cc058724c8f40ce28794575d4b1e2a412ed8-E76e7h_fw658"}},{name:"Bill",attributes:{title:"ios开发",photo:"http://img.hb.aicdn.com/0788a51b27ba8db84f61d95249725475d5396f20119ac-HVge7P_fw658"}},{name:"John",attributes:{title:"android开发",photo:"http://img.hb.aicdn.com/0788a51b27ba8db84f61d95249725475d5396f20119ac-HVge7P_fw658"}}]},{name:"Amy",attributes:{title:"设计总监",photo:"http://img.hb.aicdn.com/0e7c6aee0cc058724c8f40ce28794575d4b1e2a412ed8-E76e7h_fw658"},children:[{name:"Sunny",attributes:{title:"UI设计师",photo:"http://img.hb.aicdn.com/0e7c6aee0cc058724c8f40ce28794575d4b1e2a412ed8-E76e7h_fw658"}},{name:"Emma",attributes:{title:"UI设计师",photo:"http://img.hb.aicdn.com/0e7c6aee0cc058724c8f40ce28794575d4b1e2a412ed8-E76e7h_fw658"}}]},{name:"Julie",attributes:{title:"产品总监",photo:"http://img.hb.aicdn.com/0e7c6aee0cc058724c8f40ce28794575d4b1e2a412ed8-E76e7h_fw658"},children:[{name:"Michael",attributes:{title:"产品经理",photo:"http://img.hb.aicdn.com/0788a51b27ba8db84f61d95249725475d5396f20119ac-HVge7P_fw658"}}]}]}],translate:{x:0,y:0},separation:{siblings:1.2,nonSiblings:1.2}}},components:{Tree:a.default},methods:{setTreeCenter(){const t=this.$refs.treeContainer.$el.getBoundingClientRect();this.translate={x:t.width/2,y:100}},handleClick(t){console.log(t)},pathFunc(t,e,n){return"M"+n.x+","+n.y+" "+e.x+","+e.y}},mounted(){this.setTreeCenter()}}},"0b85":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.oneOf=(t,e)=>e.some(e=>e===t);const i=e.typeOf=t=>{const e=Object.prototype.toString,n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"};return n[e.call(t)]},a=e.deepCopy=t=>{const e=i(t);let n;if("array"===e)n=[];else{if("object"!==e)return t;n={}}if("array"===e)for(let i=0;i<t.length;i++)n.push(a(t[i]));else if("object"===e)for(let i in t)n[i]=a(t[i]);return n};e.uniqueId=()=>Math.random().toString(36).substring(7)},3865:function(t,e,n){"use strict";n.r(e);var i=n("55fd"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"448d":function(t,e,n){"use strict";n.r(e);var i=n("c61f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"55fd":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("5698"),a=n("0b85");e.default={name:"Link",props:["pathFunc","orientation","nodeSize","linkData","transitionDuration","deepFactor"],data(){return{initStyle:{opacity:0}}},computed:{startPoint(){const t=this.linkData;let e={};return e="horizontal"===this.orientation?{x:t.parent.y+this.nodeSize.x/2,y:t.parent.x}:{x:t.parent.x,y:t.parent.y+this.nodeSize.y/2},e},endPoint(){const t=this.linkData;let e={};return e="horizontal"===this.orientation?{x:t.y-this.nodeSize.x/2,y:t.x}:{x:t.x,y:t.y-this.nodeSize.y/2},e},fish(){let t="";const[e,n]=[this.startPoint.x,this.startPoint.y],[i,a]=[this.endPoint.x,this.endPoint.y];let r=0,o=parseInt(i-e),s=parseInt(a-n);if("vertical"===this.orientation){o>10&&(r=1),o<-10&&(r=-1);const s=(a-n)/2/this.deepFactor;t="M"+e+","+n+"Q"+e+","+(n+s)+" "+(e+s*r/this.deepFactor)+","+(n+s)+"L"+(i-s*r/this.deepFactor)+","+(n+s)+"Q"+i+","+(n+s)+" "+i+","+a}if("horizontal"===this.orientation){s>10&&(r=1),s<-10&&(r=-1);const o=(i-e)/2/this.deepFactor;t="M"+e+","+n+"Q"+(i-o)+","+n+" "+(i-o)+","+(n+o*r/this.deepFactor)+"L"+(i-o)+","+(a-o*r/this.deepFactor)+"Q"+(i-o)+","+a+" "+i+","+a}return t},straight(){let t="";const e=(this.endPoint.y+this.startPoint.y)/2,n=(this.endPoint.x+this.startPoint.x)/2;return"vertical"===this.orientation&&(t="M"+this.endPoint.x+","+this.endPoint.y+" "+this.endPoint.x+","+e+" "+this.startPoint.x+","+e+" "+this.startPoint.x+","+this.startPoint.y),"horizontal"===this.orientation&&(t="M"+this.endPoint.x+","+this.endPoint.y+" "+n+","+this.endPoint.y+" "+n+","+this.startPoint.y+" "+this.startPoint.x+","+this.startPoint.y),t},diagonal(){const t="M"+this.endPoint.x+","+this.endPoint.y+"C"+this.endPoint.x+","+(this.endPoint.y+this.startPoint.y)/2+" "+this.startPoint.x+","+(this.endPoint.y+this.startPoint.y)/2+" "+this.startPoint.x+","+this.startPoint.y;return t},linkPath(){return"string"===(0,a.typeOf)(this.pathFunc)?this[this.pathFunc]:"function"===(0,a.typeOf)(this.pathFunc)?this.pathFunc(this.linkData,this.startPoint,this.endPoint):void new Error("linkPath 为 string 或 function")}},methods:{applyOpacity(t=1){this.transitionDuration?(0,i.select)(this.$refs["link-"+this.linkData.data.id]).transition().duration(this.transitionDuration).style("opacity",t):(0,i.select)(this.$refs["link-"+this.linkData.data.id]).style("opacity",t)}},mounted(){this.applyOpacity()},beforeDestroy(){this.applyOpacity(0)}}},5981:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assignProperties=void 0;var i=n("11c1"),a=r(i);function r(t){return t&&t.__esModule?t:{default:t}}const o=t=>t.map(t=>(t.id=a.default.v4(),t._collapsed=!1,t.children&&t.children.length>0&&(t.children=o(t.children),t._children=t.children),t));e.assignProperties=o},"5f6e":function(t,e,n){"use strict";n.r(e);var i=n("d999"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"6e6e":function(t,e,n){"use strict";n.r(e);var i=n("8e14"),a=n("5f6e");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o=n("2877"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);e["default"]=s.exports},"8e14":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("g",{ref:t.nodeData.data.id,staticClass:"v-tree__node-base",style:t.initStyle,attrs:{transform:t.transform}},[n("foreignObject",{attrs:{x:-t.nodeSize.x/2,y:-t.nodeSize.y/2,width:t.nodeSize.x,height:t.nodeSize.y}},[n("ForeignObjectElement")],1),t._v(" "),t.nodeData.data._children?n("g",{staticClass:"v-tree__collapse-icon",attrs:{transform:t.collapseIcon},on:{click:t.handleClick}},[n("circle",{attrs:{r:"8"}}),t._v(" "),t.nodeData.data._collapsed?n("polyline",{attrs:{points:"-4,0 4,0 0,0 0,4 0,-4","stroke-width":"2",stroke:"white",fill:"none"}}):n("line",{attrs:{x1:"-4",y1:"0",x2:"4",y2:"0","stroke-width":"2",stroke:"white"}})]):t._e()],1)},a=[]},"8ee7":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("path",{ref:"link-"+t.linkData.data.id,staticClass:"v-tree__link-base",style:t.initStyle,attrs:{d:t.linkPath}})},a=[]},"916f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.treeProps=void 0;var i=n("0b85");e.treeProps={initData:{type:Array,required:!0},orientation:{type:String,default:"horizontal",validator(t){return(0,i.oneOf)(t,["horizontal","vertical"])}},collapsible:{type:Boolean,default:!0},deepFactor:{type:Number,default:.65},nodeSvgShape:{type:String,default:"circle"},nodeSvgShapeAttr:{type:Object,default(){return{r:10}}},pathFunc:{default:"fish"},nodeSize:{type:Object,default(){return{x:140,y:100}}},separation:{type:Object,default(){return{siblings:1.2,nonSiblings:1.2}}},zoomable:{type:Boolean,default:!0},zoom:1,scaleExtent:{type:Object,default(){return{min:.1,max:1}}},translate:{type:Object,default(){return{x:0,y:0}},validator(t){return"number"===(0,i.typeOf)(t.x)&&"number"===(0,i.typeOf)(t.y)}},scale:{type:Number,default:1},transitionDuration:{type:Number,default:500},allowForeignObjects:{type:Boolean,default:!0},renderForeignObjects:{type:Function,default(){return""}}}},c61f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("5698"),a=n("0b85"),r=n("5981"),o=n("916f"),s=p(o),d=n("e87a"),c=h(d),l=n("6e6e"),u=h(l);function h(t){return t&&t.__esModule?t:{default:t}}function f(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return f=function(){return t},t}function p(t){if(t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var e=f();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var r=i?Object.getOwnPropertyDescriptor(t,a):null;r&&(r.get||r.set)?Object.defineProperty(n,a,r):n[a]=t[a]}return n.default=t,e&&e.set(t,n),n}e.default={name:"Tree",provide(){return{$$tree:this}},components:{Link:c.default,Node:u.default},props:s.treeProps,data(){return{svgRef:(0,a.uniqueId)(),gRef:(0,a.uniqueId)(),data:(0,r.assignProperties)(this.initData),nodes:[],links:[]}},computed:{treemap(){const{x:t,y:e}=this.nodeSize,n=(0,i.tree)().nodeSize("horizontal"===this.orientation?[e,t]:[t,e]).separation((t,e)=>t.parent.data.id==e.parent.data.id?this.separation.siblings:this.separation.nonSiblings);return n},root(){const t=(0,i.hierarchy)(this.data[0],t=>t._collapsed?null:t._children);return t},tree(){const t=this.treemap(this.root),e=t.descendants();e.forEach((function(t){t.y=180*t.depth}));const n=t.descendants().slice(1);return e.forEach(t=>{"horizontal"===this.orientation?t.y=t.y*(1/this.deepFactor):t.y=t.y*this.deepFactor}),{nodes:e,links:n}}},watch:{initData(t){this.data=(0,r.assignProperties)(t)}},methods:{bindZoomListener(){const t=(0,i.select)(this.$refs[this.svgRef]),e=(0,i.select)(this.$refs[this.gRef]);this.zoomable&&t.call((0,i.zoom)().scaleExtent([this.scaleExtent.min,this.scaleExtent.max]).on("zoom",()=>{const[t,n]=[this.translate.x,this.translate.y],{x:a,y:r,k:o}=i.event.transform;e.attr("transform",`translate(${t+a},${n+r}) scale(${o})`)}))},setInitialTreeDepth(t,e){t.forEach(t=>{t._collapsed=t.depth>=e})},handleNodeToggle(t){const e=[...this.data],n=this.findNodeById(t.data.id,e)[0];this.collapsible&&(n._collapsed?this.expandNode(n):this.collapseNode(n),this.data=e)},expandNode(t){t._collapsed=!1},collapseNode(t){t._collapsed=!0,t._children&&t._children.length>0&&t._children.forEach(t=>{this.collapseNode(t)})},findNodeById(t,e,n=[]){return n.length>0||(n=n.concat(e.filter(e=>e.id===t)),e.forEach(e=>e._children&&e._children.length>0?(n=this.findNodeById(t,e._children,n),n):n)),n},update(){}},mounted(){this.bindZoomListener();const{width:t,height:e}=this.$refs[this.svgRef].getBoundingClientRect();this.viewPort={width:t,height:e}}}},d1a6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"ForeignObjectElement",inject:["$$tree"],props:{nodeData:Object,renderForeignObjects:Function},created(){if(this.$$tree.$scopedSlots){const t=this.$options.parent,e=t.$options.propsData.nodeData;this.$options.render=t=>t("div",[this.$$tree.$scopedSlots.default(e)])}}}},d999:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("5698"),a=n("d1a6"),r=o(a);function o(t){return t&&t.__esModule?t:{default:t}}e.default={name:"Node",components:{ForeignObjectElement:r.default},props:["nodeData","nodeSize","nodeSvgShape","nodeSvgShapeAttr","transitionDuration","orientation","allowForeignObjects","renderForeignObjects"],watch:{nodeData:{handler(){this.setTransform(this.nodeData)}}},data(){return{transform:"",initStyle:{opacity:0}}},computed:{collapseIcon(){return"horizontal"===this.orientation?`translate(${this.nodeSize.x/2},0)`:`translate(0,${this.nodeSize.y/2})`}},methods:{setTransform(t){const{x:e,y:n}=t,i="horizontal"===this.orientation?`translate(${n},${e})`:`translate(${e},${n})`;this.applyTransform(i)},applyTransform(t,e=1,n=(()=>{})){const a=(0,i.select)(this.$refs[this.nodeData.data.id]);this.transitionDuration?(a.transition().duration(this.transitionDuration).attr("transform",t).attr("style","opacity: "+e),n()):(a.attr("transform",t).attr("style","opacity: "+e),n()),a.call((0,i.drag)().on("start",(function(t){}))).on("click",t=>{i.event.defaultPrevented})},handleClick(t){this.$emit("handleNodeToggle",this.nodeData,t)}},mounted(){this.setTransform(this.nodeData)},beforeDestroy(){const t=this.nodeData.parent?this.nodeData.parent:{x:0,y:0},e=this.setTransform(t);this.applyTransform(e)}}},e2a8:function(t,e,n){"use strict";n.r(e);var i=n("f92b"),a=n("448d");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o=n("2877"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);e["default"]=s.exports},e362:function(t,e,n){},e87a:function(t,e,n){"use strict";n.r(e);var i=n("8ee7"),a=n("3865");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o=n("2877"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);e["default"]=s.exports},f3ec:function(t,e,n){"use strict";n.r(e);var i=n("fd70"),a=n("0073");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);var o=n("2877"),s=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,null,null);e["default"]=s.exports},f92b:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["v-tree__container",{"v-tree--grabbable":t.zoomable}]},[n("svg",{ref:t.svgRef,attrs:{width:"100%",height:"100%"}},[n("transition",[n("g",{ref:t.gRef,attrs:{transform:"translate("+t.translate.x+","+t.translate.y+") scale("+t.scale+")"}},[t._l(t.tree.links,(function(e,i){return n("Link",{key:i,attrs:{pathFunc:t.pathFunc,orientation:t.orientation,linkData:e,nodeSize:t.nodeSize,transitionDuration:t.transitionDuration,deepFactor:t.deepFactor}})})),t._v(" "),t._l(t.tree.nodes,(function(e){return n("Node",{key:e.data.id,attrs:{nodeData:e,nodeSize:t.nodeSize,transitionDuration:t.transitionDuration,orientation:t.orientation,nodeSvgShape:t.nodeSvgShape,nodeSvgShapeAttr:t.nodeSvgShapeAttr,allowForeignObjects:t.allowForeignObjects,renderForeignObjects:t.renderForeignObjects},on:{handleNodeToggle:t.handleNodeToggle}})}))],2)])],1)])},a=[]},fd70:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tree-progress"},[n("Tree",{ref:"treeContainer",attrs:{orientation:"vertical",initData:t.data,translate:t.translate,separation:t.separation,pathFunc:"straight"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"base-node member"},[n("div",{staticClass:"main"},[n("div",{staticClass:"elderOrder"},[t._v("\n            次子\n          ")]),t._v(" "),n("div",{staticClass:"lineage"},[t._v("二十三世")])]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"uname"},[n("div",{staticClass:"username"},[t._v("张三丰")]),t._v(" "),n("div",{staticClass:"epithet"},[t._v("张无忌")])]),t._v(" "),n("div",{staticClass:"wifeLastname"},[t._v("韩氏")])])])]}}])})],1)},a=[]}}]);
//# sourceMappingURL=chunk-e59145c6.90ad3a17.js.map